<div class="contact container">
  <section class="contact-form">
    <div class="my-5">
      <h2 class="my-5 text-center">Get in touch with me</h2>
      <div class="d-flex justify-content-center">
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
          <div class="mb-3">
            <div class="form-floating">
              <input
                type="text"
                id="name"
                name="name"
                class="form-control mb-2"
                formControlName="name"
              />

              <label for="name"
                ><i class="fa-solid fa-user fs-7 me-3"></i>Name</label
              >
              <div
                *ngIf="
                  contactForm.controls.name.invalid &&
                  (contactForm.controls.name.dirty ||
                    contactForm.controls.name.touched)
                "
                class="alert"
              >
                <div
                  *ngIf="contactForm.controls.name.hasError('required')"
                  class="text-danger"
                >
                  Name is required.
                </div>
              </div>
            </div>

            <div class="form-floating">
              <input
                type="email"
                id="email"
                class="form-control mb-2"
                formControlName="email"
                name="email"
              />
              <label for="email"
                ><i class="fa-solid fa-envelope me-3"></i>Email</label
              >
              <div
                *ngIf="
                  contactForm.controls.email.invalid &&
                  (contactForm.controls.email.dirty ||
                    contactForm.controls.email.touched)
                "
                class="alert"
              >
                <div
                  *ngIf="contactForm.controls.email.hasError('required')"
                  class="text-danger"
                >
                  Email is required.
                </div>

                <div
                  *ngIf="contactForm.controls.email.hasError('pattern')"
                  class="text-danger"
                >
                  Please provide a valid email address
                </div>
              </div>
            </div>

            <div class="form-floating">
              <input
                type="text"
                id="phone"
                class="form-control mb-2"
                formControlName="phone"
                name="phone"
              />
              <label for="phone"
                ><i class="fa-solid fa-phone me-3"></i>Phone</label
              >
              <div
                *ngIf="
                  contactForm.controls.phone.invalid &&
                  (contactForm.controls.phone.dirty ||
                    contactForm.controls.phone.touched)
                "
                class="alert"
              >
                <div
                  *ngIf="contactForm.controls.phone.hasError('required')"
                  class="text-danger"
                >
                  Phone is required.
                </div>
              </div>
            </div>

            <div class="form-floating">
              <textarea
                class="form-control mb-2"
                id="message"
                rows="50"
                cols="50"
                formControlName="message"
                name="message"
              ></textarea>
              <label for="message"
                ><i class="fa-solid fa-comment me-3"></i>Your message</label
              >
              <div
                *ngIf="
                  contactForm.controls.message.invalid &&
                  (contactForm.controls.message.dirty ||
                    contactForm.controls.message.touched)
                "
                class="alert"
              >
                <div
                  *ngIf="contactForm.controls.message.hasError('required')"
                  class="text-danger"
                >
                  Message is required.
                </div>
              </div>
            </div>
          </div>

          <button
            type="submit"
            class="btn btn-success mt-3"
            [disabled]="!contactForm.valid"
          >
            Send Email
          </button>
          @if(msg){
          <p>{{ msg }}</p>
          }
        </form>
      </div>
    </div>
  </section>
</div>
